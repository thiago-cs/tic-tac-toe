{"version":3,"sources":["model/Player.js","model/TicTacToeGame.js","components/Square.js","components/Board.js","components/GameHeader.js","containers/Game.js","components/Confetti.js","App.js","reportWebVitals.js","index.js"],"names":["Player","name","symbol","color","this","score","TicTacToeGame","_status","undefined","_players","_currentPlayerIndex","_squares","Int8Array","_filledSquares","reset","squares","forEach","e","push","status","fill","_nextTurn","index","isRunning","Error","updateStatus","currentPlayer","win","row","Math","floor","every","j","column","length","memo","Render","AreEqual","props","value","onClick","className","prevProps","nextProps","map","i","hidden","visibility","players","current","onPlayAgain","playAgainRef","React","createRef","children","p","key","style","gridRow","bulletIndicator","alt","ref","onMouseDown","classList","remove","add","onMouseUp","game","currentPlayerIndex","ConfettiComponent","_canvasRef","_count","count","_stopped","_stopRequested","_colors","start","bind","stop","_step","onWindowResized","controller","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","randomBetween","_canvas","_context","getContext","addEventListener","_confettiElements","FallingConfetti","width","height","randomColor","clearRect","anyRedraw","draw","parent","parentNode","clientWidth","clientHeight","Component","w","h","rgb","skipFrames","r","r2","$0_7r","_replace","context","x","vx","y","vy","Δop","opacity","ymax","xmax","beginPath","arc","PI","fillStyle","min","max","random","App","_game","_confettiController","state","gameState","handleClick","stopConfetti","setState","prevStatus","playerMove","error","console","log","message","startConfetti","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.35ec40e4.chunk.js","sourcesContent":["export default class Player\r\n{\r\n\tconstructor(name, symbol, color = \"white\")\r\n\t{\r\n\t\tthis.name = name;\r\n\t\tthis.score = 0;\r\n\t\tthis.color = color;\r\n\t\tthis.symbol = symbol;\r\n\t}\r\n\r\n\twin()\r\n\t{\r\n\t\tthis.score++;\r\n\t}\r\n}","import Player from \"./Player.js\";\r\n\r\nexport default class TicTacToeGame\r\n{\r\n\tconstructor()\r\n\t{\r\n\t\tthis._status = undefined;\r\n\t\tthis._players = [ new Player(\"Player 1\", \"x\"), new Player(\"Player 2\", \"o\") ];\r\n\t\tthis._currentPlayerIndex = 0;\r\n\t\tthis._squares = new Int8Array(9);\r\n\t\tthis._filledSquares = 1;\r\n\r\n\t\tthis.reset();\r\n\t}\r\n\r\n\r\n\tget squares()\r\n\t{\r\n\t\tconst squares = [];\r\n\t\tthis._squares.forEach(e => squares.push( e === -1 ? null : this._players[e].symbol));\r\n\r\n\t\treturn squares;\r\n\t}\r\n\r\n\tget players()\r\n\t{\r\n\t\treturn this._players;\r\n\t}\r\n\r\n\tget currentPlayerIndex()\r\n\t{\r\n\t\treturn this._currentPlayerIndex;\r\n\t}\r\n\r\n\tget currentPlayer()\r\n\t{\r\n\t\treturn this._players[this._currentPlayerIndex];\r\n\t}\r\n\r\n\tget status()\r\n\t{\r\n\t\treturn this._status;\r\n\t}\r\n\r\n\tget isRunning()\r\n\t{\r\n\t\treturn this.status === \"running\";\r\n\t}\r\n\r\n\r\n\t_nextTurn()\r\n\t{\r\n\t\tthis._currentPlayerIndex = this._currentPlayerIndex === 0 ? 1 : 0;\r\n\t}\r\n\r\n\treset()\r\n\t{\r\n\t\tthis._squares.fill(-1);\r\n\t\tthis._filledSquares = 0;\r\n\t\tthis._status = \"running\";\r\n\t\tthis._nextTurn();\r\n\t}\r\n\r\n\tplayerMove(index)\r\n\t{\r\n\t\t// 1. Checks for errors.\r\n\t\tif (!this.isRunning)\r\n\t\t\tthrow new Error(`Ivalid operation. The game has finished (status: \"${this.status}\").`);\r\n\r\n\t\tif (this._squares[index] !== -1)\r\n\t\t\tthrow new Error(`Invalid move. Square #${index + 1} is not empty.`);\r\n\r\n\t\t// 2.\r\n\t\tthis._squares[index] = this._currentPlayerIndex;\r\n\t\tthis._filledSquares++;\r\n\r\n\t\tif (5 <= this._filledSquares)\r\n\t\t\tthis.updateStatus(index);\r\n\r\n\t\tif (this.isRunning)\r\n\t\t\tthis._nextTurn();\r\n\t\telse if (this.status === \"win\")\r\n\t\t\tthis.currentPlayer.win();\r\n\t}\r\n\r\n\tupdateStatus(index)\r\n\t{\r\n\t\tif (this._filledSquares < 5)\r\n\t\t{\r\n\t\t\tthis._status = \"running\";\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Row\r\n\t\t// const { symbol } = this.currentPlayer;\r\n\t\tconst symbol = this._currentPlayerIndex;\r\n\t\tconst row = Math.floor(index / 3);\r\n\r\n\t\tif ([0, 1, 2].every(j => this._squares[3 * row + j] === symbol))\r\n\t\t{\r\n\t\t\tthis._status = \"win\";\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Column\r\n\t\tconst column = Math.floor(index % 3);\r\n\r\n\t\tif ([0, 1, 2].every(j => this._squares[3 * j + column] === symbol))\r\n\t\t{\r\n\t\t\tthis._status = \"win\";\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Diagonal 1\r\n\t\tif (row === column)\r\n\t\t\tif ([0, 1, 2].every(j => this._squares[4 * j] === symbol))\r\n\t\t\t{\r\n\t\t\t\tthis._status = \"win\";\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t// Diagonal 2\r\n\t\tif (row + column === 2)\r\n\t\t\tif ([1, 2, 3].every(j => this._squares[2 * j] === symbol))\r\n\t\t\t{\r\n\t\t\t\tthis._status = \"win\";\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t// All squares are filled.\r\n\t\tif (this._filledSquares === this._squares.length)\r\n\t\t{\r\n\t\t\tthis._status = \"tie\";\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n}","import { memo } from \"react\";\r\nimport './Square.css';\r\n\r\nexport default memo(Render, AreEqual);\r\n\r\nfunction Render(props)\r\n{\r\n\tconst { index, value, onClick } = props;\r\n\tconst className = value == null ? \"empty Square\" : \"filled Square\";\r\n\r\n\treturn (\r\n\t\t<button key={value} className={className} onClick={()=>onClick(index)}>\r\n\t\t\t{value}\r\n\t\t</button>);\r\n}\r\n\r\nfunction AreEqual(prevProps, nextProps)\r\n{\r\n\treturn prevProps.value === nextProps.value;\r\n}","import Square from \"./Square.js\";\r\nimport './Board.css';\r\n\r\nexport default function (props)\r\n{\r\n\tconst { squares, onClick } = props;\r\n\r\n\treturn (\r\n\r\n\t<div className=\"Board\" >\r\n\t\t{squares.map((e, i) => <Square key={i} index={i} value={e} onClick={onClick} />)}\r\n\t</div>\r\n\r\n\t);\r\n}","import React from \"react\";\r\nimport './GameHeader.css';\r\n\r\n\r\nconst hidden = { visibility: \"hidden\" };\r\n\r\nexport default function (props)\r\n{\r\n\tconst { players, current, status, onPlayAgain } = props;\r\n\tconst playAgainRef = React.createRef();\r\n\r\n\t//\r\n\tconst children = [];\r\n\r\n\tfor (let i = 0; i < players.length; i++)\r\n\t{\r\n\t\tconst p = players[i];\r\n\t\tconst key = children.length;\r\n\t\tconst row = `${2 * i + 1} / span 2`;\r\n\t\tchildren.push(<span key={key}     className=\"name\"  style={{ gridRow: row, color: p.color }}>{p.name}</span>);\r\n\t\tchildren.push(<span key={key + 1} className=\"score\" style={{ gridRow: row }} >{p.score}</span>);\r\n\t}\r\n\r\n\tconst bulletIndicator = <img key=\"bullet\" className=\"bullet\" alt=\"current player\" />;\r\n\tchildren.push(bulletIndicator);\r\n\r\n\t//\r\n\r\n\treturn (\r\n\t\r\n\t\t<div className=\"GameHeader\" >\r\n\t\t\t<div className={`players animate fast row${current + 1}`} >\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"play-again\" style={ status === \"running\" ? hidden : undefined } >\r\n\t\t\t\t<span>play again</span>\r\n\t\t\t\t<span ref={playAgainRef} className=\"icon-again animate fast\" onClick={onPlayAgain} onMouseDown={f} onMouseUp={g} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\t\r\n\tfunction f() { playAgainRef.current.classList.remove(\"rotateOut\"); playAgainRef.current.classList.add(\"rotateIn\"); }\r\n\tfunction g() { playAgainRef.current.classList.remove(\"rotateIn\"); playAgainRef.current.classList.add(\"rotateOut\"); }\r\n}","import Board from \"../components/Board.js\";\r\nimport Header from \"../components/GameHeader.js\";\r\nimport './Game.css';\r\n\r\nexport default function (props)\r\n{\r\n\t\tconst { game, onClick, onPlayAgain } = props;\r\n\r\n\t\treturn <>\r\n\r\n\t\t<Header players={game.players} current={game.currentPlayerIndex} status={game.status} onPlayAgain={onPlayAgain} />\r\n\t\t<Board  squares={game.squares} onClick={onClick} />\r\n\r\n\t\t</>;\r\n}","import React, { Component } from \"react\";\r\nimport \"./Confetti.css\";\r\n\r\nexport default class ConfettiComponent extends Component\r\n{\r\n\tconstructor(props)\r\n\t{\r\n\t\tsuper(props);\r\n\r\n\t\t// \"private\" properties.\r\n\t\tthis._canvasRef = React.createRef();\r\n\t\tthis._count = props.count || 250;\r\n\t\tthis._stopped = true;\r\n\t\tthis._stopRequested = false;\r\n\t\tthis._colors = [ \"85,71,156\", \"174,61,99\", \"219,56,83\", \"255,100,70\", \"255,192,60\" ];\r\n\r\n\t\t// JS stuff.\r\n\t\tthis.start = this.start.bind(this);\r\n\t\tthis.stop  = this.stop.bind(this);\r\n\t\tthis._step = this._step.bind(this);\r\n\t\tthis.onWindowResized = this.onWindowResized.bind(this);\r\n\r\n\t\t// Exports a ref to this object.\r\n\t\t// todo: Does React support/provide a better way to achieve this?\r\n\t\tif (props.controller)\r\n\t\t\tprops.controller.current = { start: this.start, stop: this.stop };\r\n\r\n\t\twindow.requestAnimationFrame = (\r\n\t\t\twindow.requestAnimationFrame ||\r\n\t\t\twindow.webkitRequestAnimationFrame ||\r\n\t\t\twindow.mozRequestAnimationFrame ||\r\n\t\t\twindow.oRequestAnimationFrame ||\r\n\t\t\twindow.msRequestAnimationFrame ||\r\n\t\t\tfunction (callback) { setTimeout(callback, 1000 / 60 ); }\r\n\t\t);\r\n\t}\r\n\r\n\tget randomColor()\r\n\t{\r\n\t\treturn this._colors[~~randomBetween(0, this._colors.length)]\r\n\t}\r\n\r\n\tcomponentDidMount()\r\n\t{\r\n\t\tthis._canvas = this._canvasRef.current;\r\n\t\tthis._context = this._canvas.getContext(\"2d\");\r\n\t\t\r\n    \twindow.addEventListener('resize', this.onWindowResized, false);\r\n\t\tthis.onWindowResized();\r\n\t\t// setTimeout(this.onWindowResized, 0);\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\treturn \"whatever is down below ↓\",\r\n\r\n\t\t<canvas ref={this._canvasRef} className=\"Confetti\" style={this.props.style} />\r\n\t}\r\n\r\n\tstart()\r\n\t{\r\n\t\tif (!this._stopped)\r\n\t\t\treturn;\r\n\r\n\t\t// Creates individual elements.\r\n\t\tthis._confettiElements = [];\r\n\r\n\t\tfor (let i = 0; i < this._count; i++)\r\n\t\t\tthis._confettiElements.push(new FallingConfetti(this._canvas.width, this._canvas.height, this.randomColor));\r\n\r\n\t\tthis._stopped = false;\r\n\t\tthis._stopRequested = false;\r\n\r\n\t\tthis._step();\r\n\t}\r\n\r\n\tstop()\r\n\t{\r\n\t\tthis._stopRequested = true;\r\n\t}\r\n\r\n\t_step()\r\n\t{\r\n\t\t// Honors the command to stop.\r\n\t\tif (this._stopped)\r\n\t\t{\r\n\t\t\tthis._context.clearRect(0, 0, this._canvas.width, this._canvas.height);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Clears the canvas.\r\n\t\trequestAnimationFrame(this._step);\r\n\t\tthis._context.clearRect(0, 0, this._canvas.width, this._canvas.height);\r\n\r\n\t\t// Redraws every confetti.\r\n\t\tlet anyRedraw = false;\r\n\t\tfor (let i = 0; i < this._confettiElements.length; i++)\r\n\t\t\tif (this._confettiElements[i].draw(this._context, this._canvas.width, this._canvas.height, this._stopRequested))\r\n\t\t\t\tanyRedraw = true;\r\n\r\n\t\t// If none was redraw...\r\n\t\tif (!anyRedraw)\r\n\t\t\tthis._stopped = true;\r\n\t}\r\n\r\n\tonWindowResized()\r\n\t{\r\n\t\tconst parent = this._canvas.parentNode;\r\n\r\n\t\tif (parent === null)\r\n\t\t\treturn;\r\n\r\n\t\tthis._canvas.width = parent.clientWidth;\r\n\t\tthis._canvas.height = parent.clientHeight;\r\n\t}\r\n}\r\n\r\n\r\nclass FallingConfetti\r\n{\r\n\tconstructor(w, h, color)\r\n\t{\r\n\t\tthis.rgb = \"rgba(\" + color;\r\n\t\tthis.skipFrames = ~~randomBetween(0, 30);\r\n\t\tthis.r = ~~randomBetween(2, 6);\r\n\t\tthis.r2 = 2 * this.r;\r\n\t\tthis.$0_7r = 0.7 * this.r;\r\n\r\n\t\tthis._replace(w, h);\r\n\t}\r\n\r\n\tdraw(context, w, h, stop)\r\n\t{\r\n\t\t//\r\n\t\tif (0 < this.skipFrames)\r\n\t\t{\r\n\t\t\tthis.skipFrames--;\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t//\r\n\t\tthis.x += this.vx;\r\n\t\tthis.y += this.vy;\r\n\r\n\t\t//\r\n\t\tif (stop)\r\n\t\t{\r\n\t\t\tif (0 < this.Δop)\r\n\t\t\t\tthis.Δop *= -1;\r\n\r\n\t\t\tthis.opacity += 3 * this.Δop;\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis.opacity += this.Δop;\r\n\r\n\t\tif (this.opacity < 0 || this.ymax < this.y)\r\n\t\t{\r\n\t\t\tif (stop)\r\n\t\t\t\treturn false;\r\n\r\n\t\t\tthis._replace(w, h);\r\n\t\t}\r\n\t\telse if (1 < this.opacity)\r\n\t\t{\r\n\t\t\tthis.opacity = 1;\r\n\t\t\tthis.Δop *= -1;\r\n\t\t}\r\n\r\n\t\t//\r\n\t\tif (this.x <= 0 || this.xmax <= this.x)\r\n\t\t\tthis.x = (this.x + this.xmax) % this.xmax;\r\n\r\n\t\t// Draws a circle.\r\n\t\tcontext.beginPath();\r\n\t\tcontext.arc(~~this.x, ~~this.y, this.r, 0, 2 * Math.PI, false);\r\n\t\tcontext.fillStyle = `${this.rgb},${this.opacity})`;\r\n\t\tcontext.fill();\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\t_replace(w, h)\r\n\t{\r\n\t\tthis.opacity = 0;\r\n\t\tthis.Δop = 0.01 * randomBetween(1, 4);\r\n\t\tthis.x = randomBetween(-this.r2, w - this.r2);\r\n\t\tthis.y = randomBetween(-this.r2, h - this.r2);\r\n\t\tthis.xmax = w - this.r;\r\n\t\tthis.ymax = h - this.r;\r\n\t\t// this.vx = randomBetween(-5, -3) + 8 * xpos;\r\n\t\tthis.vx = randomBetween(-1, 1);\r\n\t\tthis.vy = 0.5 * (this.r * 0.7 + randomBetween(-1, 1));\r\n\t}\r\n}\r\n\r\n\r\nfunction randomBetween(min, max)\r\n{\r\n\treturn min + (max - min) * Math.random();\r\n}","import { Component } from \"react\";\nimport TicTacToeGame from \"./model/TicTacToeGame.js\";\nimport Game from './containers/Game.js';\nimport Confetti from \"./components/Confetti.js\";\nimport './App.css';\n\nexport default class App extends Component\n{\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\t//\n\t\tthis._game = new TicTacToeGame();\n\t\tthis._game.players[0].color = \"YellowGreen\";\n\t\tthis._game.players[1].color = \"SlateBlue\";\n\n\t\tthis._confettiController = { };\n\n\t\tthis.state = this.gameState;\n\n\t\t// Binding our callbacks...\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t\tthis.reset = this.reset.bind(this);\n\t}\n\n\treset()\n\t{\n\t\tthis.stopConfetti();\n\t\tthis._game.reset();\n\t\tthis.setState({});\n\t}\n\n\tstartConfetti()\n\t{\n\t\tthis._confettiController.current.start();\n\t}\n\n\tstopConfetti()\n\t{\n\t\tthis._confettiController.current.stop();\n\t}\n\n\thandleClick(index)\n\t{\n\t\t// 1. Computes this app's new state.\n\t\tconst prevStatus = this._game.status;\n\t\ttry\n\t\t{\n\t\t\tthis._game.playerMove(index);\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tconsole.log(error.message);\n\t\t\treturn;\n\t\t}\n\n\t\t// 2. Compares statuses.\n\t\tif (prevStatus !== this._game.status)\n\t\t\tif (this._game.status === \"win\")\n\t\t\t\tthis.startConfetti();\n\t\t\telse\n\t\t\t\tthis.stopConfetti();\n\n\t\t// 3.\n\t\tthis.setState({});\n\t}\n\n\trender()\n\t{\n\t\treturn (\n\n\t\t<div className=\"App\" >\n\t\t\t<Game game={this._game} onClick={this.handleClick} onPlayAgain={this.reset} />\n\t\t\t<Confetti controller={this._confettiController} count={250} />\n\t\t</div>\n\n\t\t);\n\t}\n}\n/**\n\n[\"Arrow, music, play, arrows, audio, sound icon\"](https://www.iconfinder.com/icons/1564490/arrow_music_play_arrows_audio_sound_icon) by [Artyom Khamitov](www.iconfinder.com/Kh.Artyom) is licensed under [Creative Commons (Attribution 3.0 Unported)](http://creativecommons.org/licenses/by/3.0/).\n\n */","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}