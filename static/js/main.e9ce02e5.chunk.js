(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],[,,,,,,,,,,,,,function(t,e,s){},function(t,e,s){},,function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var n=s(1),i=s.n(n),a=s(8),r=s.n(a),o=(s(13),s(3)),c=s(4),u=s(2),h=s(6),l=s(5),d=function(){function t(e,s){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"white";Object(o.a)(this,t),this.name=e,this.score=0,this.color=n,this.symbol=s}return Object(c.a)(t,[{key:"win",value:function(){this.score++}}]),t}(),f=function(){function t(){Object(o.a)(this,t),this._status=void 0,this._players=[new d("Player 1","x"),new d("Player 2","o")],this._currentPlayerIndex=0,this._squares=new Int8Array(9),this._filledSquares=1,this.reset()}return Object(c.a)(t,[{key:"squares",get:function(){var t=this,e=[];return this._squares.forEach((function(s){return e.push(-1===s?null:t._players[s].symbol)})),e}},{key:"players",get:function(){return this._players}},{key:"currentPlayerIndex",get:function(){return this._currentPlayerIndex}},{key:"currentPlayer",get:function(){return this._players[this._currentPlayerIndex]}},{key:"status",get:function(){return this._status}},{key:"isRunning",get:function(){return"running"===this.status}},{key:"_nextTurn",value:function(){this._currentPlayerIndex=0===this._currentPlayerIndex?1:0}},{key:"reset",value:function(){this._squares.fill(-1),this._filledSquares=0,this._status="running",this._nextTurn()}},{key:"playerMove",value:function(t){if(!this.isRunning)throw new Error('Ivalid operation. The game has finished (status: "'.concat(this.status,'").'));if(-1!==this._squares[t])throw new Error("Invalid move. Square #".concat(t+1," is not empty."));this._squares[t]=this._currentPlayerIndex,this._filledSquares++,5<=this._filledSquares&&this.updateStatus(t),this.isRunning?this._nextTurn():"win"===this.status&&this.currentPlayer.win()}},{key:"updateStatus",value:function(t){var e=this;if(this._filledSquares<5)this._status="running";else{var s=this._currentPlayerIndex,n=Math.floor(t/3);if([0,1,2].every((function(t){return e._squares[3*n+t]===s})))this._status="win";else{var i=Math.floor(t%3);[0,1,2].every((function(t){return e._squares[3*t+i]===s}))||n===i&&[0,1,2].every((function(t){return e._squares[4*t]===s}))||n+i===2&&[1,2,3].every((function(t){return e._squares[2*t]===s}))?this._status="win":this._filledSquares!==this._squares.length||(this._status="tie")}}}}]),t}(),_=(s(14),s(0)),p=Object(n.memo)(y,v);function y(t){var e=t.index,s=t.value,n=t.onClick,i=null==s?"empty square":"filled square";return Object(_.jsx)("button",{className:i,onClick:function(){return n(e)},children:s},s)}function v(t,e){return t.value===e.value}s(16);var m=function(t){var e=t.squares,s=t.onClick;return Object(_.jsx)("div",{className:"Board",children:e.map((function(t,e){return Object(_.jsx)(p,{index:e,value:t,onClick:s},e)}))})},g=(s(17),{display:"none"}),j=function(t){for(var e=t.players,s=t.current,n=t.status,a=t.onPlayAgain,r=i.a.createRef(),o=[],c=0;c<e.length;c++){var u=e[c],h=o.length;o.push(Object(_.jsx)("span",{className:"name",style:{color:u.color},children:u.name},h)),o.push(Object(_.jsx)("span",{className:"score",children:u.score},h+1))}var l=Object(_.jsx)("img",{className:"bullet",alt:"current player",style:{gridRowStart:s+1}},"bullet");return o.push(l),Object(_.jsxs)("div",{className:"game-header",children:[Object(_.jsx)("div",{className:"players",children:o}),Object(_.jsxs)("div",{className:"play-again",style:"running"===n?g:void 0,children:[Object(_.jsx)("span",{children:"play again"}),Object(_.jsx)("span",{ref:r,className:"icon-again animate fast",onClick:a,onMouseDown:function(){r.current.classList.remove("rotateOut"),r.current.classList.add("rotateIn")},onMouseUp:function(){r.current.classList.remove("rotateIn"),r.current.classList.add("rotateOut")}})]})]})},b=(s(18),function(t){var e=t.game,s=t.onClick,n=t.onPlayAgain;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(j,{players:e.players,current:e.currentPlayerIndex,status:e.status,onPlayAgain:n}),Object(_.jsx)(m,{squares:e.squares,onClick:s})]})}),x=(s(19),function(t){Object(h.a)(s,t);var e=Object(l.a)(s);function s(t){var n;return Object(o.a)(this,s),(n=e.call(this,t))._canvasRef=i.a.createRef(),n._count=t.count||250,n._stopped=!0,n._stopRequested=!1,n._colors=["85,71,156","174,61,99","219,56,83","255,100,70","255,192,60"],n.start=n.start.bind(Object(u.a)(n)),n.stop=n.stop.bind(Object(u.a)(n)),n._step=n._step.bind(Object(u.a)(n)),n.onWindowResized=n.onWindowResized.bind(Object(u.a)(n)),t.controller&&(t.controller.current={start:n.start,stop:n.stop}),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},n}return Object(c.a)(s,[{key:"randomColor",get:function(){return this._colors[~~k(0,this._colors.length)]}},{key:"componentDidMount",value:function(){this._canvas=this._canvasRef.current,this._context=this._canvas.getContext("2d"),window.addEventListener("resize",this.onWindowResized,!1),this.onWindowResized()}},{key:"render",value:function(){return Object(_.jsx)("canvas",{ref:this._canvasRef,className:"Confetti",style:this.props.style})}},{key:"start",value:function(){if(this._stopped){this._confettiElements=[];for(var t=0;t<this._count;t++)this._confettiElements.push(new w(this._canvas.width,this._canvas.height,this.randomColor));this._stopped=!1,this._stopRequested=!1,this._step()}}},{key:"stop",value:function(){this._stopRequested=!0}},{key:"_step",value:function(){if(this._stopped)this._context.clearRect(0,0,this._canvas.width,this._canvas.height);else{requestAnimationFrame(this._step),this._context.clearRect(0,0,this._canvas.width,this._canvas.height);for(var t=!1,e=0;e<this._confettiElements.length;e++)this._confettiElements[e].draw(this._context,this._canvas.width,this._canvas.height,this._stopRequested)&&(t=!0);t||(this._stopped=!0)}}},{key:"onWindowResized",value:function(){var t=this._canvas.parentNode;null!==t&&(this._canvas.width=t.clientWidth,this._canvas.height=t.clientHeight)}}]),s}(n.Component)),w=function(){function t(e,s,n){Object(o.a)(this,t),this.rgb="rgba("+n,this.skipFrames=~~k(0,30),this.r=~~k(2,6),this.r2=2*this.r,this.$0_7r=.7*this.r,this._replace(e,s)}return Object(c.a)(t,[{key:"draw",value:function(t,e,s,n){if(0<this.skipFrames)return this.skipFrames--,!0;if(this.x+=this.vx,this.y+=this.vy,n?(0<this.\u0394op&&(this.\u0394op*=-1),this.opacity+=3*this.\u0394op):this.opacity+=this.\u0394op,this.opacity<0||this.ymax<this.y){if(n)return!1;this._replace(e,s)}else 1<this.opacity&&(this.opacity=1,this.\u0394op*=-1);return(this.x<=0||this.xmax<=this.x)&&(this.x=(this.x+this.xmax)%this.xmax),t.beginPath(),t.arc(~~this.x,~~this.y,this.r,0,2*Math.PI,!1),t.fillStyle="".concat(this.rgb,",").concat(this.opacity,")"),t.fill(),!0}},{key:"_replace",value:function(t,e){this.opacity=0,this.\u0394op=.01*k(1,4),this.x=k(-this.r2,t-this.r2),this.y=k(-this.r2,e-this.r2),this.xmax=t-this.r,this.ymax=e-this.r,this.vx=k(-1,1),this.vy=.5*(.7*this.r+k(-1,1))}}]),t}();function k(t,e){return t+(e-t)*Math.random()}s(20);var O=function(t){Object(h.a)(s,t);var e=Object(l.a)(s);function s(t){var n;return Object(o.a)(this,s),(n=e.call(this,t))._game=new f,n._game.players[0].color="YellowGreen",n._game.players[1].color="SlateBlue",n._confettiController={},n.state=n.gameState,n.handleClick=n.handleClick.bind(Object(u.a)(n)),n.reset=n.reset.bind(Object(u.a)(n)),n}return Object(c.a)(s,[{key:"reset",value:function(){this.stopConfetti(),this._game.reset(),this.setState({})}},{key:"startConfetti",value:function(){this._confettiController.current.start()}},{key:"stopConfetti",value:function(){this._confettiController.current.stop()}},{key:"handleClick",value:function(t){var e=this._game.status;try{this._game.playerMove(t)}catch(s){return void console.log(s.message)}e!==this._game.status&&("win"===this._game.status?this.startConfetti():this.stopConfetti()),this.setState({})}},{key:"render",value:function(){return Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)(b,{game:this._game,onClick:this.handleClick,onPlayAgain:this.reset}),Object(_.jsx)(x,{controller:this._confettiController,count:250})]})}}]),s}(n.Component),q=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,22)).then((function(e){var s=e.getCLS,n=e.getFID,i=e.getFCP,a=e.getLCP,r=e.getTTFB;s(t),n(t),i(t),a(t),r(t)}))};r.a.render(Object(_.jsx)(i.a.StrictMode,{children:Object(_.jsx)(O,{})}),document.getElementById("root")),q()}],[[21,1,2]]]);
//# sourceMappingURL=main.e9ce02e5.chunk.js.map